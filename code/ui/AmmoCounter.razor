@inherits Sandbox.UI.Panel
@using Sandbox
@namespace MyGame

<style>
	AmmoCounter {
		position: absolute;
		right: 10%;
		bottom: 10%;
		display: flex;
		justify-content: center;
		align-items: center;
		
	}
	.AmmoBg {
		width: 150px;
		height: 80px;
		opacity: 1;
		//background-color: blue;
		transform: rotate(5deg);
		spacing: 5px;
	}
	.AmmoCurrent {
		font-size:70px;
		font-weight: bold;
		color:cornflowerblue;
	}

	.AmmoReserve {
		font-size: 50px;
		color: cornflowerblue;
	}
</style>

<root class="AmmoCounter">
	<div class="AmmoBg">
		<div class="AmmoCurrent">@(GetAmmo())</div>
		<div class="AmmoReserve">/</div>
		<div class="AmmoReserve">100</div>
	</div>
</root>

@code {
	public int GetAmmo()
	{
		var player = Game.LocalPawn as Pawn;
		
		if (player == null) return 0;
		if (player.ActiveWeapon == null) return 0;
		return player.ActiveWeapon.ammoInClip;
	}

	protected override int BuildHash()
	{
		var currentAmmo = GetAmmo();
		return currentAmmo.GetHashCode();
	}
}