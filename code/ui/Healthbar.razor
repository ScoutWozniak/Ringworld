@inherits Sandbox.UI.Panel
@using Sandbox

<style>
	Healthbar {
		position:absolute;
		bottom:100px;
		left:100px;
		width:400px;
		height:40px;
		background-color: black;
		padding: 2px;
	}

	.fill {
		height: 100%;
		width: 75%;
		background-color: red;
	}
</style>

<root>
	<div class="fill" style="width: @(GetHealth())%"></div>
</root>

@code {
	public int GetHealth()
	{
		var player = Game.LocalPawn as Entity;
		if (player == null) return 0;

		return (int)player.Health;
	}

	protected override int BuildHash()
	{
		var currentHealth = GetHealth();
		return currentHealth.GetHashCode();
	}
}